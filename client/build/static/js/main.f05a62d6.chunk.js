(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{247:function(e,t,a){e.exports=a(450)},252:function(e,t,a){},273:function(e,t,a){},283:function(e,t,a){},284:function(e,t,a){},433:function(e,t,a){},434:function(e,t,a){},435:function(e,t,a){},436:function(e,t,a){},437:function(e,t,a){},449:function(e,t,a){},450:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(45),o=a.n(c),l=(a(252),a(253),a(254),a(255),a(18)),i=a(19),s=a(21),u=a(20),d=a(22),p=a(52),m=a(32),h=Object(m.a)(),v=a(24),f=a.n(v),g=a(26),E=a(455),b=a(456),y=a(471),w=a(457),O=a(458),D=a(459),k=a(460),j=(a(273),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",message:""},a.onChange=function(e){var t;a.setState((t={},Object(g.a)(t,e.target.name,e.target.value),Object(g.a)(t,"message",""),t))},a.onSubmit=function(e){e.preventDefault();var t=a.state;f.a.post("/api/login",t).then(function(e){200===e.status&&(a.props.setUser(e.data.user),localStorage.setItem("Token",e.data.token),f.a.put("/api/last-login").then(function(e){200===e.status&&h.replace("/dashboard")}))}).catch(function(e){var t=e.response.data.message;a.setState({message:t})})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"login-main"},r.a.createElement(E.a,{className:"login-container"},r.a.createElement(b.a,{className:"form-main",onSubmit:this.onSubmit},r.a.createElement("h1",{align:"center",as:"h1"},"Login"),""!==this.state.message?r.a.createElement(y.a,{style:{textAlign:"center"},color:"danger"},this.state.message):null,r.a.createElement(w.a,null,r.a.createElement(O.a,{for:"email"},"Email:"),r.a.createElement(D.a,{value:this.state.email,required:!0,onChange:this.onChange,type:"text",name:"email",id:"email",placeholder:"Enter your email"})),r.a.createElement(w.a,null,r.a.createElement(O.a,{for:"password"},"Password:"),r.a.createElement(D.a,{value:this.state.password,required:!0,onChange:this.onChange,type:"password",name:"password",id:"password",placeholder:"Enter your password"})),r.a.createElement(k.a,{type:"submit",style:{margin:"5px auto",display:"block"}},"Submit"))))}}]),t}(n.Component)),C=(a(283),a(284),a(468)),x=a(469),S=a(464),I=a(71),A=a(463),T=a(31),R=a(69),L=f.a.create({baseURL:"https://datamux.talkpool.io/apiV1"}),U=a(51),P=a(28),H=a(462),M=a(465),N=a(467),q=function(e){var t=Object(n.useState)(!1),a=Object(P.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(""),i=Object(P.a)(l,2),s=i[0],u=i[1],d=Object(n.useState)(!1),p=Object(P.a)(d,2),m=p[0],h=p[1];return r.a.createElement(H.a,{onClose:function(){return o(function(e){return!e})},closeOnDimmerClick:!0,open:c,centered:!0,style:{height:"auto",top:"auto",left:"auto"},trigger:r.a.createElement(M.a,{onClick:function(){return o(function(e){return!e})},color:"red"},"Delete"),closeIcon:!0},r.a.createElement(N.a,{icon:"archive",content:"Delete Device"}),r.a.createElement(H.a.Content,null,r.a.createElement("div",null,""!==s?r.a.createElement(y.a,{color:"danger",align:"center"},s):null,"Are you sure you want to delete ",e.rowData.Deviceeui,"?")),r.a.createElement(H.a.Actions,null,r.a.createElement(M.a,{onClick:function(){return o(function(e){return!e})},color:"red"},r.a.createElement(I.a,{name:"remove"})," No"),r.a.createElement(M.a,{disabled:m,onClick:function(){return function(t){h(!0);var a="/devices/delete/"+t;L.delete(a).then(function(){var t=e.data.findIndex(function(t){return t.Deviceeui===e.rowData.Deviceeui}),a=Object(U.a)(e.data);a.splice(t,1),e.setData(a),o(function(e){return!e}),u(""),h(!1)}).catch(function(e){console.log(e),u("Cannot Delete Device"),h(!1)})}(e.rowData.Deviceeui)},color:"green"},r.a.createElement(I.a,{name:"checkmark"})," Yes")))},F=a(46),Y=a.n(F),B=a(68),V=(a(433),["OY1100","OY1110","OY1210","OY1310","OY1320","OY1700","UNKNOWN","OY1400","OY1410","SmartValve","LR210","OY1600V1","WaterIWMLR3","DigimondoMeter","OY1320V1","LandisGyr","OY1200","TetraedreMBUS"]),W=["CORLYSIS","HTTP","FIWARE","THINGSBOARD","MQTT"],Z=function(e){var t=e.options.map(function(e,t){return r.a.createElement("option",{key:t},e)});return r.a.createElement(w.a,null,r.a.createElement(O.a,null,e.Label),r.a.createElement(D.a,{value:e.value,required:e.required,onChange:e.onChange,type:e.type,name:e.name},r.a.createElement("option",null," "),t))},z=function(e){return r.a.createElement(w.a,null,r.a.createElement(O.a,null,e.Label),r.a.createElement(D.a,{pattern:e.pattern,required:e.required,value:e.value,onChange:e.onChange,title:e.title,type:e.type,name:e.name,placeholder:e.placeholder}))},G=function(e){var t=e.endpoint.map(function(t,a){return r.a.createElement("div",{key:a},r.a.createElement(Z,{Label:e.OptionsLabel,value:t.endpointType,required:e.required,onChange:function(t){return e.handleChange(t,a,e.endpoint)},type:e.optionType,name:e.OptionsName,placeholder:e.OptionsPlaceholder,options:W}),r.a.createElement(z,{Label:e.InputLabel,value:t.endPointDest,required:e.required,onChange:function(t){return e.handleChange(t,a,e.endpoint)},type:e.InputType,name:e.InputName,placeholder:e.InputPlaceholder}))});return r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",width:"80%",margin:"5px auto"}},r.a.createElement(k.a,{style:{margin:"auto 0"},onClick:e.addEndpoint,type:"button",outline:!0,color:"primary"},"Add Endpoint")," ",e.endpoint.length>1?r.a.createElement(k.a,{style:{margin:"auto 0 auto 5px"},onClick:e.removeEndpoint,type:"button",outline:!0,color:"danger"},"Remove Endpoint"):null),t)},J=function(e){return r.a.createElement(w.a,{check:!0},r.a.createElement(O.a,{check:!0},r.a.createElement(D.a,{checked:e.checked,onChange:e.checkBoxHandler,name:e.name,type:e.type})," ",e.Label))},K=a(27),Q=function(e){var t=Object(n.useState)(e),a=Object(P.a)(t,2),r=a[0],c=a[1];return[r,c,function(e){e.persist(),c(function(t){return Object(K.a)({},t,Object(g.a)({},e.target.name,e.target.value))})},function(e){e.persist(),c(function(t){return Object(K.a)({},t,Object(g.a)({},e.target.name,e.target.checked))})},function(e,t,a){e.persist();var n=e.target.name,r=Object(U.a)(a);r[t][n]=e.target.value,c(function(e){return Object(K.a)({},e,{endpoint:r})})},function(e){c(function(t){return Object(K.a)({},t,{endpoint:[].concat(Object(U.a)(e),[{endpointType:"",endPointDest:""}])})})},function(e){var t=Object(U.a)(e);t.pop(),c(function(e){return Object(K.a)({},e,{endpoint:t})})}]},X=function(e){var t=Object(n.useState)(!1),a=Object(P.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(!1),i=Object(P.a)(l,2),s=i[0],u=i[1],d=Object(n.useState)(""),p=Object(P.a)(d,2),m=p[0],h=p[1],v=Q({deviceUI:"",deviceType:"",AccessToken:"",endpoint:[],InclRadio:null,RawData:""}),f=Object(P.a)(v,7),g=f[0],w=f[1],O=f[2],D=f[3],k=f[4],j=f[5],C=f[6];Object(n.useEffect)(function(){var t={deviceUI:e.rowData.Deviceeui,deviceType:e.rowData.Devicetype,AccessToken:e.rowData.AccessToken,endpoint:function(){for(var t=e.rowData.Endpointtype.split("|"),a=e.rowData.Endpointdest.split("|"),n=[],r=0;r<t.length;r++)n.push({endpointType:t[r],endPointDest:a[r]});return n}(),InclRadio:e.rowData.InclRadio,RawData:e.rowData.RawData};w(t)},[e,w]);var x=function(){var t=Object(B.a)(Y.a.mark(function t(a){var n,r,c,l;return Y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),g.endpoint.length>0?10===g.AccessToken.length&&(u(!0),n=g.endpoint.map(function(e){return e.endPointDest.trim()}).join("|").trim(),r=g.endpoint.map(function(e){return e.endpointType.trim()}).join("|").trim(),c={Deviceeui:g.deviceUI,Devicetype:g.deviceType,Endpointdest:n,Endpointtype:r,InclRadio:g.InclRadio,RawData:g.RawData,AccessToken:g.AccessToken},l="/devices/delete/"+g.deviceUI,L.delete(l).then(function(){var t=e.data.findIndex(function(e){return e.Deviceeui===g.deviceUI}),a=Object(U.a)(e.data);a.splice(t,1),L.post("/devices/add",c).then(function(t){a.push(c),e.setData(a),o(function(e){return!e}),u(!1)}).catch(function(e){console.log(e),h("Cannot Create Device"),u(!1)})}).catch(function(e){console.log(e),h("Cannot Delete Device"),u(!1)})):(h("Select Atleast One Endpoint"),u(!1));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(H.a,{onClose:function(){return o(function(e){return!e})},closeOnDimmerClick:!0,open:c,centered:!0,style:{height:"auto",top:"auto",left:"auto"},trigger:r.a.createElement(M.a,{onClick:function(){return o(function(e){return!e})},color:"green"},"Edit"),closeIcon:!0},r.a.createElement(H.a.Content,{style:{display:"flex",justifyContent:"center"},image:!0,scrolling:!0},r.a.createElement("div",{className:"single-device-main"},r.a.createElement(E.a,null,r.a.createElement(b.a,{className:"single-device-form",onSubmit:x},r.a.createElement(N.a,{textAlign:"center",as:"h1"},"Edit Device:- ",g.deviceUI),m?r.a.createElement(y.a,{color:"success"},m):null,r.a.createElement(z,{Label:"Access Token",pattern:"(?=.*\\d)((?=.*[a-z])|(?=.*[A-Z])).{10}",required:!0,value:g.AccessToken,onChange:O,title:"Length should be 10 characters with atleast one digit and upper or lowercase letter",type:"text",name:"AccessToken",placeholder:"Enter Access Token"}),r.a.createElement(Z,{Label:"Select Device Type",value:g.deviceType,required:!0,onChange:O,type:"select",name:"deviceType",options:V}),r.a.createElement(G,{addEndpoint:function(e){return j(g.endpoint)},removeEndpoint:function(e){return C(g.endpoint)},endpoint:g.endpoint,OptionsLabel:"Select Endpoint Type",InputLabel:"Select Endpoint Destination",required:!0,handleChange:k,inputType:"text",optionType:"select",InputPlaceholer:"Select Endpoint Destination",OptionsPlaceholder:"Select Endpoint Type",OptionsName:"endpointType",InputName:"endPointDest"}),r.a.createElement(J,{checked:g.InclRadio,Label:"InclRadio",checkBoxHandler:D,name:"InclRadio",type:"checkbox"}),r.a.createElement(J,{checked:g.RawData,Label:"RawData",checkBoxHandler:D,name:"RawData",type:"checkbox"}),r.a.createElement(M.a,{disabled:s,color:"blue",type:"submit",style:{margin:"5px auto",display:"block"}},s?"Submitting":"Submit"))))))},$=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={data:[]},a.setData=function(e){a.setState({data:e})},a.componentDidMount=function(){L.get("/devices/show").then(function(e){a.setState({data:e.data})}).catch(function(e){console.log(e)})},a.columns=[{Header:"Deviceeui",accessor:"Deviceeui",sortable:!0,width:200,filterable:!0,style:{textAlign:"center"}},{Header:"Devicetype",accessor:"Devicetype",filterable:!0,style:{textAlign:"center"}},{Header:"Endpointdest",accessor:"Endpointdest",width:200,filterable:!0,style:{textAlign:"center"}},{Header:"Endpointtype",accessor:"Endpointtype",filterable:!0,style:{textAlign:"center"}},{Header:"InclRadio",accessor:"InclRadio",Cell:function(e){return r.a.createElement("input",{type:"checkbox",readOnly:!0,disabled:!0,checked:e.original.InclRadio})},style:{textAlign:"center"}},{Header:"RawData",accessor:"RawData",Cell:function(e){return r.a.createElement("input",{type:"checkbox",readOnly:!0,disabled:!0,checked:e.original.RawData})},style:{textAlign:"center"}},{Header:"AccessToken",accessor:"AccessToken",width:150,style:{textAlign:"center"}},{Header:"Delete",sortable:!1,Cell:function(e){return r.a.createElement(q,{data:a.state.data,setData:a.setData,rowData:e.original})},width:100,style:{textAlign:"center"}},{Header:"Edit",sortable:!1,Cell:function(e){return r.a.createElement(X,{data:a.state.data,setData:a.setData,rowData:e.original})},width:100,style:{textAlign:"center"}}],a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{style:{marginLeft:"0px",maxWidth:"fit-content"}},r.a.createElement(R.a,{data:this.state.data,columns:this.columns,showPaginationTop:!0,minRows:8,className:"-striped -highlight",defaultFilterMethod:function(e,t){return t[e.id].toLowerCase().includes(e.value.toLowerCase())},defaultSorted:[{id:"Endpointtype"}]})))}}]),t}(n.Component),_=(a(434),a(461)),ee=function(){var e=Q({deviceUI:"",deviceType:"",AccessToken:Math.random().toString(32).substr(2,10).toUpperCase(),endpoint:[{endpointType:"",endPointDest:""}],InclRadio:null,RawData:""}),t=Object(P.a)(e,7),a=t[0],c=t[1],o=t[2],l=t[3],i=t[4],s=t[5],u=t[6],d=Object(n.useState)(!1),p=Object(P.a)(d,2),m=p[0],h=p[1],v=Object(n.useState)(!1),f=Object(P.a)(v,2),g=f[0],w=f[1],O=Object(n.useState)(""),D=Object(P.a)(O,2),j=D[0],C=D[1],x=function(){var e=Object(B.a)(Y.a.mark(function e(t){var n,r,o;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.endpoint.length>0?10===a.AccessToken.length&&/((([A-Z]|\d){2}-){7})([A-Z]|\d){2}/.test(a.deviceUI)?(w(!0),n=a.endpoint.map(function(e){return e.endPointDest.trim()}).join("|").trim(),r=a.endpoint.map(function(e){return e.endpointType.trim()}).join("|").trim(),o={Deviceeui:a.deviceUI,Devicetype:a.deviceType,Endpointdest:n,Endpointtype:r,InclRadio:a.InclRadio,RawData:a.RawData,AccessToken:a.AccessToken},L.post("/devices/add",o).then(function(e){var t={deviceUI:"",deviceType:"",endpoint:[{endpointType:"",endPointDest:""}],InclRadio:!1,RawData:null,disable:null,AccessToken:Math.random().toString(32).substr(2,10).toUpperCase(),message:"Device Created Successfully"};c(t),C("Successfully Added Device"),w(!1)})):(C("Correct DeviceUI and AccessToken"),w(!1)):(C("Set Atleast One Endpoint"),w(!1));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"single-device-main"},r.a.createElement(E.a,null,r.a.createElement(k.a,{color:"primary",onClick:function(){return h(function(e){return!e})}},"Add"),r.a.createElement(_.a,{isOpen:m},r.a.createElement(b.a,{className:"single-device-form",onSubmit:x},j?r.a.createElement(y.a,{color:"success"},j):null,r.a.createElement(z,{Label:"Device UI",pattern:"((([A-Z]|\\d){2}-){7})([A-Z]|\\d){2}",required:!0,value:a.deviceUI,onChange:o,title:"Format:70-B3-D5-D7-20-04-03-9A",type:"text",name:"deviceUI",placeholder:"Enter your Device UI"}),r.a.createElement(z,{Label:"Access Token",pattern:"(?=.*\\d)((?=.*[a-z])|(?=.*[A-Z])).{10}",required:!0,value:a.AccessToken,onChange:o,title:"Length should be 10 characters with atleast one digit and upper or lowercase letter",type:"text",name:"AccessToken",placeholder:"Enter Access Token"}),r.a.createElement(Z,{Label:"Select Device Type",value:a.deviceType,required:!0,onChange:o,type:"select",name:"deviceType",options:V}),r.a.createElement(G,{addEndpoint:function(e){return s(a.endpoint)},removeEndpoint:function(e){return u(a.endpoint)},endpoint:a.endpoint,OptionsLabel:"Select Endpoint Type",InputLabel:"Select Endpoint Destination",required:!0,handleChange:i,inputType:"text",optionType:"select",InputPlaceholer:"Select Endpoint Destination",OptionsPlaceholder:"Select Endpoint Type",OptionsName:"endpointType",InputName:"endPointDest"}),r.a.createElement(J,{checked:a.InclRadio,Label:"InclRadio",checkBoxHandler:l,name:"InclRadio",type:"checkbox"}),r.a.createElement(J,{checked:a.RawData,Label:"RawData",checkBoxHandler:l,name:"RawData",type:"checkbox"}),r.a.createElement(M.a,{disabled:g,color:"blue",type:"submit",style:{margin:"5px auto",display:"block"}},g?"Submitting":"Submit")))))},te=a(234),ae=a.n(te),ne=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={csvFile:null,csvData:[],message:"",completedMessage:"",uploadSuccessMessage:""},a.toggle=function(){a.setState(function(e,t){return{collapse:!e.collapse}})},a.onChange=function(e){a.setState(Object(g.a)({},e.target.name,parseInt(e.target.value)))},a.handleFileChange=function(e){a.setState({csvFile:e.target.files[0],message:"",completedMessage:"",uploadSuccessMessage:""})},a.onSubmit=function(){var e=Object(B.a)(Y.a.mark(function e(t){var n,r,c,o;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=a.state.csvData,c=0,r=0;case 4:if(!(r<n.length)){e.next=13;break}return o={Deviceeui:n[r].Deviceeui,Devicetype:n[r].Devicetype,Endpointtype:n[r].Endpointtype,Endpointdest:n[r].Endpointdest,InclRadio:"true"===n[r].InclRadio,RawData:"true"===n[r].RawData,AccessToken:""!==n[r].AccessToken&&10===n[r].AccessToken.length?n[r].AccessToken:Math.random().toString(32).substr(2,10).toUpperCase()},e.next=8,L.post("/devices/add",o);case 8:e.sent&&(c+=1)===n.length&&a.setState({completedMessage:"All Devices Added"});case 10:r++,e.next=4;break;case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.importCSV=function(){var e=a.state.csvFile;e&&ae.a.parse(e,{complete:a.updateData,header:!0})},a.updateData=function(e){var t=e.data;if(t.every(function(e){return e.hasOwnProperty("Deviceeui")&&e.hasOwnProperty("Devicetype")&&e.hasOwnProperty("Endpointtype")&&e.hasOwnProperty("Endpointdest")&&e.hasOwnProperty("InclRadio")&&e.hasOwnProperty("RawData")&&e.hasOwnProperty("AccessToken")}))a.setState({csvData:t,uploadSuccessMessage:"File upload successful",success:!1});else{a.setState({message:"Invalid CSV format Follow Instructions",success:!0,csvFile:null})}},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=null,t=null,a=null;return this.state.message&&(e=r.a.createElement(y.a,{color:"danger"},this.state.message)),this.state.uploadSuccessMessage&&(a=r.a.createElement(y.a,{color:"success"},this.state.uploadSuccessMessage)),this.state.completedMessage&&(t=r.a.createElement(y.a,{color:"success"},this.state.completedMessage)),r.a.createElement(E.a,null,r.a.createElement(b.a,{style:{margin:"15px auto",width:"70%"},onSubmit:this.onSubmit},r.a.createElement(w.a,{inline:!0},t,r.a.createElement(O.a,{for:"exampleDevice"},"Select CSV File"),r.a.createElement(y.a,{color:"primary"},"Header Format:Deviceeui,Devicetype,Endpointtype,Endpointdest,InclRadio,RawData,AccessToken"),r.a.createElement("div",{style:{display:"inline"}},r.a.createElement(D.a,{required:!0,style:{display:"inline",width:"25%"},type:"file",accept:".csv",onChange:this.handleFileChange,onClick:function(e){return e.target.value=null},placeholder:this.state.csvName}),e,r.a.createElement(k.a,{onClick:this.importCSV}," Upload now!"),a)),r.a.createElement(k.a,{color:"primary",type:"submit",style:{margin:"70px auto",display:"block"}},"Submit")))}}]),t}(n.Component),re=(a(435),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",email:"",userType:"user",message:""},a.onChange=function(e){var t;a.setState((t={},Object(g.a)(t,e.target.name,e.target.value),Object(g.a)(t,"message",""),t))},a.onSubmit=function(e){e.preventDefault();var t=a.state;f.a.post("/api/register",t).then(function(e){200===e.status&&a.setState({username:"",password:"",email:"",message:"User Created Successfully"})}).catch(function(e){console.log(e)})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=null;return this.state.message&&(e=r.a.createElement(y.a,{color:"success"},this.state.message)),r.a.createElement(E.a,{style:{margin:"200px auto"}},r.a.createElement("h1",{align:"center",as:"h1"},"Signup"),r.a.createElement(b.a,{style:{margin:"5px auto",width:"50%"},onSubmit:this.onSubmit},e,r.a.createElement(w.a,null,r.a.createElement(O.a,{for:"username"},"Username:"),r.a.createElement(D.a,{value:this.state.username,required:!0,onChange:this.onChange,type:"text",name:"username",id:"username",placeholder:"Enter your username"})),r.a.createElement(w.a,null,r.a.createElement(O.a,{for:"password"},"Password:"),r.a.createElement(D.a,{value:this.state.password,required:!0,onChange:this.onChange,type:"password",name:"password",id:"password",placeholder:"Enter your password"})),r.a.createElement(w.a,null,r.a.createElement(O.a,{for:"email"},"Email:"),r.a.createElement(D.a,{value:this.state.email,required:!0,onChange:this.onChange,type:"email",name:"email",id:"email",placeholder:"Enter your email"})),r.a.createElement(k.a,{type:"submit",style:{margin:"5px auto",display:"block"}},"Submit")))}}]),t}(n.Component)),ce=(a(436),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={oldpassword:"",password:"",message:""},a.onChange=function(e){var t;a.setState((t={},Object(g.a)(t,e.target.name,e.target.value),Object(g.a)(t,"message",""),t))},a.onSubmit=function(e){e.preventDefault();var t=a.state;f.a.post("/api/reset-password",t).then(function(e){200===e.status&&a.setState({oldpassword:"",password:"",message:e.data.message})}).catch(function(e){console.log(e)})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=null;return this.state.message&&(e=r.a.createElement(y.a,{color:"success",align:"center"},this.state.message)),r.a.createElement(E.a,{style:{margin:"200px auto"}},r.a.createElement("h1",{align:"center",as:"h1"},"Reset Password"),r.a.createElement(b.a,{style:{margin:"5px auto",width:"50%"},onSubmit:this.onSubmit},e,r.a.createElement(w.a,null,r.a.createElement(O.a,{for:"oldpassword"},"Old Password:"),r.a.createElement(D.a,{value:this.state.oldpassword,required:!0,onChange:this.onChange,type:"password",name:"oldpassword",id:"oldpassword",placeholder:"Enter old password"})),r.a.createElement(w.a,null,r.a.createElement(O.a,{for:"password"},"New Password:"),r.a.createElement(D.a,{value:this.state.password,required:!0,onChange:this.onChange,type:"password",name:"password",id:"password",placeholder:"Enter your new password"})),r.a.createElement(k.a,{type:"submit",style:{margin:"5px auto",display:"block"}},"Reset")))}}]),t}(n.Component)),oe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={data:[]},a.componentDidMount=function(){f.a.get("/api/users").then(function(e){a.setState({data:e.data.allUsers})}).catch(function(e){console.log(e)})},a.handleDelete=function(e){var t="/api/delete/"+e;f.a.delete(t).then(function(e){f.a.get("/api/users").then(function(e){a.setState({data:e.data.allUsers})}).catch(function(e){console.log(e)})})},a.columns=[{Header:"username",accessor:"username",sortable:!0,filterable:!0,style:{textAlign:"center"}},{Header:"email",accessor:"email",filterable:!0,style:{textAlign:"center"}},{sortable:!1,Cell:function(e){return r.a.createElement(k.a,{color:"danger",onClick:function(){a.handleDelete(e.original.email)}},"Delete")},style:{textAlign:"center"}}],a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{style:{marginLeft:"0px"}},r.a.createElement(R.a,{data:this.state.data,columns:this.columns,minRows:8,className:"-striped -highlight",defaultFilterMethod:function(e,t){return t[e.id].toLowerCase().includes(e.value.toLowerCase())},defaultSorted:[{id:"username"}]})))}}]),t}(n.Component),le=(a(437),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={activeIndex:2},a.handleClick=function(e,t){var n=t.index,r=a.state.activeIndex===n?-1:n;a.setState({activeIndex:r})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"admin-dashboard-main"},r.a.createElement(C.a.Pushable,{style:{overflowX:window.matchMedia("(max-width: 500px)").matches?"scroll":"visible"},as:x.a,className:"admin-sidebar-pushable"},r.a.createElement(C.a,{as:S.a,animation:"uncover",icon:"labeled",inverted:!0,vertical:!0,visible:!0,width:"thin"},r.a.createElement(S.a.Item,{as:T.a,to:"/dashboard/landingpage"},r.a.createElement(I.a,{name:"user"}),"View Devices"),r.a.createElement(S.a.Item,{as:A.a},r.a.createElement(A.a.Title,{style:{color:"white",textAlign:"justify"},active:0===this.state.activeIndex,index:0,onClick:this.handleClick},r.a.createElement(I.a,{name:"dropdown"}),"Add  Devices"),r.a.createElement(A.a.Content,{active:0===this.state.activeIndex},r.a.createElement(S.a.Item,{as:T.a,to:"/dashboard/newdevice"},r.a.createElement(I.a,{name:"plus circle"}),"Add Single Device"),r.a.createElement(S.a.Item,{as:T.a,to:"/dashboard/bulkdevices"},r.a.createElement(I.a,{name:"plus circle"}),"Add Multiple Devices")),r.a.createElement(A.a.Title,{style:{color:"white",textAlign:"justify"},active:1===this.state.activeIndex,index:1,onClick:this.handleClick},r.a.createElement(I.a,{name:"dropdown"}),"Set Users"),r.a.createElement(A.a.Content,{active:1===this.state.activeIndex},r.a.createElement(S.a.Item,{as:T.a,to:"/dashboard/newuser"},r.a.createElement(I.a,{name:"user plus"}),"Add new User"),r.a.createElement(S.a.Item,{as:T.a,to:"/dashboard/deleteuser"},r.a.createElement(I.a,{name:"remove user"}),"Remove User"),r.a.createElement(S.a.Item,{as:T.a,to:"/dashboard/resetpassword"},r.a.createElement(I.a,{name:"redo"}),"Reset Admin Password"))),r.a.createElement(S.a.Item,{as:T.a,to:"/",onClick:this.props.logoutHandler},r.a.createElement(I.a,{name:"external"}),"Logout")),r.a.createElement(C.a.Pusher,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/dashboard/landingpage",component:$}),r.a.createElement(p.a,{exact:!0,path:"/dashboard/newdevice",component:ee}),r.a.createElement(p.a,{exact:!0,path:"/dashboard/newuser",component:re}),r.a.createElement(p.a,{exact:!0,path:"/dashboard/resetpassword",component:ce}),r.a.createElement(p.a,{exact:!0,path:"/dashboard/deleteuser",component:oe}),r.a.createElement(p.a,{exact:!0,path:"/dashboard/bulkdevices",component:ne})))))}}]),t}(n.Component)),ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={data:[]},a.componentDidMount=function(){L.get("/devices/show").then(function(e){a.setState({data:e.data})}).catch(function(e){console.log(e)})},a.columns=[{Header:"Deviceeui",accessor:"Deviceeui",sortable:!0,width:250,filterable:!0,style:{textAlign:"center"}},{Header:"Devicetype",accessor:"Devicetype",filterable:!0,style:{textAlign:"center"}},{Header:"Endpointdest",accessor:"Endpointdest",width:250,filterable:!0,style:{textAlign:"center"}},{Header:"Endpointtype",accessor:"Endpointtype",filterable:!0,style:{textAlign:"center"}},{Header:"InclRadio",accessor:"InclRadio",Cell:function(e){return r.a.createElement("input",{type:"checkbox",readOnly:!0,checked:e.original.InclRadio})},style:{textAlign:"center"}},{Header:"RawData",accessor:"RawData",Cell:function(e){return r.a.createElement("input",{type:"checkbox",readOnly:!0,checked:e.original.RawData})},style:{textAlign:"center"}}],a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{style:{marginLeft:"0px"}},r.a.createElement(R.a,{data:this.state.data,columns:this.columns,minRows:8,className:"-striped -highlight",defaultFilterMethod:function(e,t){return t[e.id].toLowerCase().includes(e.value.toLowerCase())},defaultSorted:[{id:"Endpointtype"}]})))}}]),t}(n.Component),se=(a(449),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={activeIndex:1},a.handleClick=function(e,t){var n=t.index,r=a.state.activeIndex===n?-1:n;a.setState({activeIndex:r})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"user-dashboard-main"},r.a.createElement(C.a.Pushable,{as:x.a,className:"user-sidebar-pushable"},r.a.createElement(C.a,{as:S.a,animation:"push",icon:"labeled",inverted:!0,vertical:!0,visible:!0,width:"thin"},r.a.createElement(S.a.Item,{as:T.a,to:"/dashboard/landingpage"},r.a.createElement(I.a,{name:"user"}),"View Devices"),r.a.createElement(S.a.Item,{as:A.a},r.a.createElement(A.a.Title,{style:{color:"white"},active:0===this.state.activeIndex,index:0,onClick:this.handleClick},r.a.createElement(I.a,{name:"dropdown"}),"Add  Devices"),r.a.createElement(A.a.Content,{active:0===this.state.activeIndex},r.a.createElement(S.a.Item,{as:T.a,to:"/dashboard/newdevice"},r.a.createElement(I.a,{name:"plus circle"}),"Add Single Device"),r.a.createElement(S.a.Item,{as:T.a,to:"/dashboard/bulkdevices"},r.a.createElement(I.a,{name:"plus circle"}),"Add Multiple Devices"))),r.a.createElement(S.a.Item,{as:T.a,to:"/",onClick:this.props.logoutHandler},r.a.createElement(I.a,{name:"external"}),"Logout")),r.a.createElement(C.a.Pusher,null,r.a.createElement(x.a,{basic:!0},r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/dashboard/landingpage",component:ie}),r.a.createElement(p.a,{exact:!0,path:"/dashboard/newdevice",component:ee}),r.a.createElement(p.a,{exact:!0,path:"/dashboard/bulkdevices",component:ne}))))))}}]),t}(n.Component)),ue=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).logoutHandler=function(){localStorage.clear(),a.props.setUser(null)},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.user;return e&&"admin"===e.userType?r.a.createElement(le,{logoutHandler:this.logoutHandler}):e&&"user"===e.userType?r.a.createElement(se,{logoutHandler:this.logoutHandler}):null}}]),t}(n.Component),de=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:null},a.setUser=function(e){a.setState({user:e})},a.componentDidMount=function(){localStorage.getItem("Token")?f.a.post("/api/verify-token").then(function(e){if(200!==e.status)h.push("/");else{a.setState({user:e.data.user});var t=h.location.pathname;"/"===t?h.push("/dashboard"):h.push(t)}}):h.push("/")},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(p.b,{history:h},r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:function(){return r.a.createElement(j,{setUser:e.setUser})}}),r.a.createElement(p.a,{path:"/dashboard",component:function(){return r.a.createElement(ue,{user:e.state.user,setUser:e.setUser})}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));f.a.interceptors.request.use(function(e){var t=localStorage.getItem("Token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},function(e){return Promise.reject(e)}),o.a.render(r.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[247,1,2]]]);
//# sourceMappingURL=main.f05a62d6.chunk.js.map